name: 'Docker build'
description: 'Builds docker images'
runs:
  using: composite
  steps:
    - uses: docker/login-action@v1
      env:
        DOCKER_KEY: ${{ inputs.docker_key }}
      with:
        registry: ghcr.io
        username: mmaciek87
        password: $DOCKER_KEY
    - uses: actions/checkout@v3
    - run: |
        wget https://raw.githubusercontent.com/ZPP-QuantumAI/DevOps/main/build.sh
        chmod +x build.sh
        ./build.sh ${{ github.event.repository.name }}
      shell: bash
